# CI/CD란?

<br>

요즘 처럼 빠르게 진화하고 변화하는 시대에, 

어떻게 하면 시장과 고객의 요구에 빠르게 반응해서 제품을 출시, 업데이트할 것인 지가 큰 과제이다. 

이를 위해 전세계의 많은 기업들이 `CI/CD`를 개발 프로세스로 사용하고 있다.

<br>

<br>

## What is CI/CD?

`CI/CD`란 간단하게 설명하면, **애플리케이션 개발 단계부터 배포까지 모든 단계를 자동화**를 통해, 좀 더 **빠르고 빈번하게 사용자에게 배포**할 수 있도록 만드는 것이다. 

<img src="https://assets.website-files.com/5ff66329429d880392f6cba2/60d31252be0bc2a1626fe968_CICD%20preview.png" alt="What is CI/CD? Meaning,Concept, Definition📙" style="zoom:67%;" />

`CI` = `Continuous Intergration`

`CD` = `Continuous Delivery` or `Continuous Deploy`

<br>

### Continuous Intergration

CI(지속적인 통합)은 버그 수정이나 새로 만드는 기능들이, **메인 Repository에 주기적으로 빌드되고, 테스트 되어 merge 되는 것**을 말한다. CI는 다음 두 가지 포인트를 중심적으로 이해하면 좋다.

1. **코드 변경 사항을 <u>주기적으로</u> <u>빈번하게</u> 머지해야한다.**

<img src="https://raw.githubusercontent.com/na3150/typora-img/main/img/image-20230115162104977.png" width=500/>

소스 파일 위에서 두 명의 개발자가 서로 다른 코드를 작성하고 있다가, 오랜 기간 서로 변경을 하다가, 나중에 머지를 하려고 하면, 서로 다른 코드를 어떻게 통합해서 적용해 나갈 건지 고생을 많이 하게 될 것이다. 이렇게 되면 새로운 기능을 개하기 위해서 코드를 작성하는 시간보다, 이러한 머지 충돌을 해결하기 위해 더 많은 시간을 사용해야 할지도 모른다. 

<img src="https://raw.githubusercontent.com/na3150/typora-img/main/img/image-20230115162147307.png" width=500/>

따라서 버그를 수정하거나 또는 새로운 기능을 구현할 때는 더더욱 기능을 어떻게 작은 단위로 나눠서, 내가 메인 레파지토리의 반영하거나 또는 작은 단위로 나눠서 내가 사용자에게 배포할 수 있을 지 최대한 작은 단위로 나누어서 개발하고 통합해 나가는 것이 중요하다.

2. **통합을 위한 단계(빌드, 테스트, 머지)의 <u>자동화</u>**

<img src="https://raw.githubusercontent.com/na3150/typora-img/main/img/image-20230115162212098.png" width=700/>

주기적으로 머지된 코드의 변경 사항이 자동으로 빌드가 되어서 코드 변경 사항 이후에도 빌드가 성공적으로 되는지 확인이 되어야된다. 또한 새로 추가된 코드의 변경 사항 뿐만 아니라 기존의 시스템에 다른 버그를 초라하지는 않았는지 자동으로 테스트까지 되어야한다.

<br>

### CI 정책의 장점

- 주기적으로 머지를 하기 때문에, 머지 충돌을 피할 수 있어, 개발의 생산성을 높일 수 있다.
- 머지되는 모든 코드들은 자동으로 빌드되고, 테스트 되기 때문에, 코드의 결함이나 문제점이 빠르게 발견될 수 있다.
- 발생되는 결함을 빠르게 수정이 가능하다. 주기적으로 머지를 하기 위해 코드의 변경사항이 작기 때문에, 문제를 수정될 때도 조금 더 고립된 작은 단위의 문제를 확인할 수 있기 때문이다.
- 조금 더 나은 코드의 퀄리티를 가질 수 있다. CI를 잘 운영하기 위해서는 모든 개발자들이 자신이 새로 작성하는 코드에 대해서는 유닛테스트를 꼭 포함해야하기 때문이다. -> 프로젝트의 대부분의 소스 코드들이 자동으로 테스트가 될 수 있도록 만들기 때에 조금 더 안정성 있는 제품을 개발해나갈 수 있다.

<br>

<br>

### Continuous Delivery/Continuous Deployment

CD는 Continuous Delivery(지속적 제공), Continuous Deployment(지속적 배포)라고도 하는데, 각각 서로 연관이 있고 또 함께 섞어서 사용하는 경우가 있기 때문에 비슷하다고 보면 된다. 지속적 제공, 지속적 배포 이 두 가지 모두 마지막 배포 단계에서 어떻게하면 자동화하여 배포를 만들 수 있을 지를 고민하는 단계이다.

<img src="https://raw.githubusercontent.com/na3150/typora-img/main/img/image-20230115162318514.png" width=500/>

CI를 통해서 주기적으로 머지된 코드의 변경 사항들이 자동으로 빌드가 되고 테스트가 되었다면, 이제 배포하는 단계에서, 배포할 즉 릴리즈할 과정을 거치고, 여기서 준비된 릴리즈가 괜찮은지, 정상적인 지, 아무런 문제가 없는 지 직접 개발자 또는 검증 팀이 검증을 한 이후에, 최종적으로 사용자에게 배포해도 되겠다고 결정이 되면, **수동적으로 배포하는 단계를 Continuous Delivery**라고 한다.

<img src="https://raw.githubusercontent.com/na3150/typora-img/main/img/image-20230115162325372.png" width=500/>

또는 릴리즈가 준비가 되자마자 자동으로 사용자에게 배포할 수 있도록 만들 수도 있는데, 이처럼 **모든 과정을 자동화 해놓는 것을 Continuous Deployment**라고 부른다. Delivery와 살짝 비슷하지만, 최종 단계가 자동화가 되었는지 되지 않았는지에 따라 조금 씩 달라질 수 있다.

이러한 모든 과정들을 어떻게 자동화를 해두는가, 어떻게 스크립트를 쓰는가 그리고 자동화와 테스팅에 대해서 얼마나 자신감이 있느냐에 따라, 어떤 회사들은 수동적으로 릴리즈 하는 경우가 있고, 어떤 회사는 Continuous Deployment를 사용하는 경우가 있다.

회사마다 어느 정도의 얼마 만큼의 자동화를 하는가 가 달라지기 때문에, CI/CD라고 해서 모든 회사가 똑같은 프로세스를 거치는 것은 아니다. 회사마다, 팀마다 다른 방식으로 적용하여 사용할 수 있다.

<br>

<img src="https://raw.githubusercontent.com/na3150/typora-img/main/img/image-20230115162407148.png" width=400/>

CI와 CD가 완벽히 분리된 것이 아니라, 대부분의 회사에서 CI와 CD를 거쳐서 배포를 하기 때문에, CI와 CD를 묶어서 부르곤 한다. 

CI/CD 파이프라인을 한번 더 정리해보면, 개발자가 작은 단위로 기능을 나누어서 주기적으로 메인 레포지토리에 머지를 하면, 자동으로 빌드를 하고 테스트 과정을 거쳐서 릴리즈 준비를 하고, 여기서 수동적으로 또는 자동으로 최종 배포를 거치게 된다.

CI/CD를 위한 다양한 툴들이 있는데, 대표적으로 Jenkins, BuildKite, Github Action, CircleCI 등 다양하게 존재한다.

<br>

<br>

<br>

Reference

- [링크](https://www.youtube.com/watch?v=0Emq5FypiMM)