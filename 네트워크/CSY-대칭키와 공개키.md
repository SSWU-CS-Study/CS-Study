# 대칭키와 공개키(비대칭키)

네트워크를 보호하기 위해 각 계층마다 보안을 적용 ⇒ 다계층 보안구조

대칭키와 공개키는 프로세스 응용 계층의 SSL, TLS 등의 방식에서 사용한다.

- 정보를 감추는 것을 암호화, 정보를 보는 것을 복호화
- 원래의 정보가 평문, 암호화한 것이 암호문

## 대칭키

암호화와 복호화에 동일한 비밀키를 사용하는 대칭 암호화 방식에 사용된다.

![crypto_symmetric_key_01.jpg](https://ifh.cc/g/9JVrzs.jpg)
치환과 순서바꿈을 사용하여 키를 생성한다.

### 장점

- 알고리즘이 복잡하지 않고 암호화/복호화 시간이 단축된다.
⇒ 긴 메시지를 전송할 때 유리하다.

### 단점

- 대칭키 전달 과정에서 해킹 위험에 노출될 수 있다.
→ 해커가 한 번 대칭키를 알아내면 전송중인 모든 패킷을 알아볼 수 있다.
- 기기 간의 연결이 많아지면 각각의 연결을 관리해야 하는 어려움이 발생할 수 있다.

[https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https://t1.daumcdn.net/cfile/tistory/9980D84F5AD84E9518](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https://t1.daumcdn.net/cfile/tistory/9980D84F5AD84E9518)

## 비대칭키/공개키

각각의 수신지에서 공개키와 비밀키를 별도로 가지고 있어 비대칭적
수신지가 가지고 있는 공개키를 사용하여 암호화 하므로 공개키 방식이라고도 한다.

![crypto_asymmetric_key_01.jpg](https://ifh.cc/g/jg25Xf.jpg)
매우 큰 수에 대한 수학적인 문제를 이용한다.

### RSA 방식 암호화

비대칭 암호 방식 중 가장 대표적인 방식
암호화뿐만 아니라 전자서명이 가능한 최초의 알고리즘

두 개의 큰 소수를 곱한 값 n을 이용하여 암호화와 복호화에 이용하여 공개키 암호화 서명을 수행한다. 큰 숫자를 소인수분해하는 것은 극도로 어려우므로 일반적인 기법으로는 복호화를 실용적으로 수 없어 보안 수준이 높다.

![Untitled](https://ifh.cc/g/BKlX2J.png)

[공개키와 비밀키를 생성하는 방법](https://yjshin.tistory.com/entry/%EC%95%94%ED%98%B8%ED%95%99-%EB%B9%84%EB%8C%80%EC%B9%AD%ED%82%A4-%EC%95%94%ED%98%B8-RSA-%EC%95%94%ED%98%B8%EC%8B%9C%EC%8A%A4%ED%85%9C)

### 장점

- 사용자들이 각자 자신의 비밀키를 관리하고 비밀 유지의 책임도 가지므로 키 관리 측면에서 유리하다.
- 누군가 데이터를 가로채도 공개 키로는 암호문을 풀어낼 수가 없어 해킹 문제를 해결할 수 있다.
- 사이트 신뢰 문제를 해결할 수 있다.

> 네이버 서버에서 유저에게 보내는 정보들은 일부가 네이버의 개인키로 암호화가 되어 있다.
> 
> 
> 외부 피싱 사이트에서 온 정보들은 네이버의 공개키로 풀리지 않기 때문에 네이버의 공개키로 열어보면 오류가 발생한다. 
> 
> 따라서 신뢰할 수 있는 기관에서 우리에게 네이버 공개키만 검증해 준다면 그것을 기준으로 안전하게 네이버를 이용할 수 있다
> 
> ⇒ 네이버에서 뿌린 공개키를 인증해주는 공인된 민간 기업을 Certificate Authority, CA라고 부른다.
> EX> 브라우저, 크롬 등 프로그램에는 CA들의 목록이 내장
> 

### 단점

- 알고리즘이 상대적으로 복잡하고 암호화/복호화 시간이 오래 걸린다.
⇒ 비교적 짧은 메시지를 보낼 때 유리하다.

### 이상적인 대칭키 방식과 비대칭키 방식의 사용

1. 전송지는 자신의 대칭키를 수신지의 공개키로 암호화하여 수신지에게 보낸다.
2. 수신지는 자신의 비밀키로 데이터를 복호화하여 대칭키를 확인한다.
3. 수신지와 전송지는 공유된 대칭키로 암호화 통신을 한다.

## 예상 질문

- 공개키 암호화와 비밀키 암호화를 복합적으로 사용하는 이유에 대해 설명해주세요.
    
    대칭키는 암호화 복호화 키가 똑같아 암호하는 연산이 간단하고 빠르지만 대칭키가 유출되면 암호를 쉽게 노출되는 단점을 가집니다. 반면 공개키는 암호화와 복호화 키가 달라 암호 연산이 느리지만 공개키를 뺏겨도 암호를 풀 수 없는 보안이 강하다는 장점을 가지고 있습니다. 따라서 각 공개키와 대칭키의 장점을 결합하여 처음 대칭키를 거래할 땐 비밀키 암호화를 사용하고, 그 이후부턴 속도가 빠른 대칭키를 사용합니다.
    

## 참고자료

- [https://velog.io/@minj9_6/대칭키와-비대칭키는-무슨-차이가-있을까](https://velog.io/@minj9_6/%EB%8C%80%EC%B9%AD%ED%82%A4%EC%99%80-%EB%B9%84%EB%8C%80%EC%B9%AD%ED%82%A4%EB%8A%94-%EB%AC%B4%EC%8A%A8-%EC%B0%A8%EC%9D%B4%EA%B0%80-%EC%9E%88%EC%9D%84%EA%B9%8C)
- [https://www.crocus.co.kr/1236](https://www.crocus.co.kr/1236)
