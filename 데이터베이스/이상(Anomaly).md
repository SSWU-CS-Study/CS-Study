# 이상현상(anomaly)

**이상현상이란?
데이터의 중복으로 인한 부작용.**
테이블에 튜플을 삽입할 때 부득이하게 NULL값이 입력되거나, 
삭제 시 연쇄삭제 현상이 발생하거나, 
수정 시 데이터의 일관성이 훼손되는 현상

데이터베이스의 설계가 잘못되었을 때 발생하며, 정규화를 통해 테이블을 정상으로 만들 수 있다.

다시 말하자면, 정규화를 해야 하는 이유는 잘못된 테이블 설계로 인해 나타나는 이상 현상을 방지하기 위함이다.

**학생 수강** (학생의 정보와 학생이 수강한 과목을 나타내는 테이블)

| 학번 | 이름 | 학과 | 수강 강좌 | 강의실 | 중간고사 점수 |
| --- | --- | --- | --- | --- | --- |
| 101 | 가은 | 컴퓨터공학과 | 데이터베이스 | 수303 | 60 |
| 102 | 나은 | 수학과 | 선형대수학 | 수405 | 80 |
| 103 | 다은 | 서양화과 | 졸업작품연구 | 조507 | 70
| 101 | 가은 | 컴퓨터공학과 | 운영체제 | 성205 | 50 |

### A. 삽입 이상

새로 입학한 학생의 정보를 입력하기 위해 (학번, 이름, 학과)를 입력하였다. 
하지만 수강신청은 하지 않은 상태이므로 (수강 강좌 이름, 강의실, 중간고사 점수)은 NULL값으로 처리되었다.

- NULL값은 다른 데이터를 처리할 때 특별하게 처리되므로 가능한 한 테이블에는 없어야 한다.
    
    NULL은 데이터 없음을 의미하는데, `SELECT COUNT(*) FROM 학생수강;` 을 하면 5가 나오지만, `SELECT COUNT(*) FROM 수강강좌;` 를 하면 결과는 4가 된다. 
    

**⇒ NULL값 문제 발생**

### B. 수정 이상

가은 학생이 영어영문학과로 전과를 했다.
두 개의 튜플이 모두 수정된다면 괜찮지만, 한 군데만 바뀐다면 데이터 불일치 문제가 발생한다.

⇒ **불일치(inconsistency) 문제 발생**

### C. 삭제 이상

라은 학생이 졸업작품연구 강좌를 수강 취소하여 DELETE문으로 네 번째 튜플을 삭제하였다. 
그런데 삭제 후 라은 학생의 학번, 이름, 학과도 함께 없어졌다. 수강을 취소하려던 의도와 달리 기본 정보까지 없어진 것이다. 
삭제 이상이란 투플 삭제 시 같이 저장된 다른 정보까지 연쇄적으로 삭제되는 현상이다.

**⇒ 연쇄 삭제(triggered deletion) 문제 발생**


---


### 질문
<details>
<summary>이상 현상에 대해서 설명해 주세요.</summary>
  <div markdown="1">
    데이터의 중복으로 인한 부작용을 말합니다 <br />
    삽입 이상 : 데이터를 삽입하는 데 필요없는 속성도 함께 추가해야함 <br />
    수정 이상 : 데이터를 갱신한 이후 일관성이 위반됨 <br />
    삭제 이상 : 데이터를 삭제하는 데 의도하지 않은 것이 함께 삭제됨, 정보 손실이 일어남 <br />
  </div>
</details>

   
