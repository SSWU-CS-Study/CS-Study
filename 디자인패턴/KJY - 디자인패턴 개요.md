## 디자인 패턴이란?

디자인 패턴은 모듈의 세분화된 역할이나 모듈들 간의 인터페이스 구현 방식을 설계할때 참조할 수 있는 전형적인 해결 방식을 말한다. 디자인 패턴을 통해 설계 문제, 해결 방법, 해결 방법을 언제 적용해야 할지, 그 결과는 무엇인지 등을 알 수 있다. 또한 디자인 패턴은 한 패턴에 변형을 가하거나 어떠한 요구사항을 반영하면 다른 패턴으로 변형되는 특징이 있다.

1995년 GoF(Gang of Four)라고 불리는 *Erich Gamma, Richard Helm, Ralph Johnson, John Vissides*가 처음으로 디자인 패턴을 구체화하였다. GoF의 디자인 패턴은 소프트웨어 공학에서 가장 많이 사용되는 디자인 패턴이다. 목적에 따라 분류할 시 생성 패턴 5개, 구조 패턴 7개, 행위 패턴 11개, 총 23개의 패턴으로 구성된다.

### ~~패턴이란?~~

## SOLID 원칙 (객체지향 5대 원칙)

객체지향을 사용하기 위해 현재까지도 사용되는 하나로 정리된 객체지향 원칙

### Single Responsibility Principle 단일 책임 원칙

- 하나의 클래스는 하나의 역할만 수행해야 함
- 클래스나 함수가 비대해지면 분리

### Open-Close Principle 개방-폐쇄 원칙

- 확장(상속)에는 열려있고, 수정에는 닫혀있어야 함
- 자주 변경될 수 있는 내용은 수정하기 쉽게 설계, 자주 변경되지 않을 내용은 수정에 영향을 받지 않게 설계

### Liskov Substitution Principle 리스코프 치환 원칙

- 자식이 부모의 자리에 항상 교체될 수 있어야 함
- 파생 클래스를 만들 때, 올바른 상속의 관계를 갖는지 생각

### Interface Segregation Principle 인터페이스 분리 원칙

- 인터페이스가 잘 분리되어서 클래스가 필요한 인터페이스만 구현하도록 해야함

### Dependency Inversion Property 의존관계 역전 원칙

- 상위 모듈이 하위 모듈에 의존하면 안됨

## 객체지향 3대 특징

### 캡슐화

- 객체의 필드(속성), 메소드를 하나로 묶고, 실제 구현 내용을 외부에 감추는 것
- 정보의 손상과 오용 사전 방지.**다른 객체와의 독립성 유지**로 전체적인 코드 유지보수 및 변경에 유연

### 상속

- **기존 클래스를 재사용**하는 것
- 개발시간 절약, 중복 코드 감소 및 유지보수에 용이해짐

### 다형성

- ex) 부모 클래스 또는 인터페이스의 타입 변환, 오버로딩과 오버라이딩
- **하나의 타입에 여러 객체를 대입**함으로써 다양한 기능을 이용할 수 있도록 하는 것

## 디자인 패턴 종류

### GoF 디자인 패턴

- 목적에 따라 분류
    - 생성, 구조, 행동
    - 각각의 패턴이 어떤 일을 하기 위한 것인지에 관한 것
- 범위에 따라 분류
    - 패턴을 주로 클래스에 적용하는지, 객체 적용하는 지 구분하는 것
    - 클래스 패턴은 클래스와 서브 클래스 간의 관련성을 다룸
        - 주로 상속을 통해 관련되며, 컴파일 타임에 정적으로 결정됨
    - 객체 패턴은 객체 간의 관련성을 다루고, 런타임에 변경될 수 있는 동적인 성격을 가짐

|  | 생성 | 구조 | 행위 |
| --- | --- | --- | --- |
| 클래스 | Facgtory Method | Adapter(Class) | Interpreter
Template Method |
| 객체 | Abstract Factory
Builder
Prototype
Singleton | Adapter(Object)
Bridge
Composite
Decorator
Facade
Flyweight
Proxy | Chain of Responsibility
Command
Iterator
Meidator
Memento
Observer
State
Strategy
Visitor |

### 생성 패턴

- 객체의 생성과 관련된 패턴
- 개체의 인스턴스 과정을 추상화하는 방법
- 객체의 생성과 참조 과정을 캡슐화하여 객체가 생성되거나 변경되어도 프로그램 구조에 영향을 받지 않도록 하여 프로그램에 유연성을 더해줌
- 생성 클래스 패턴은 객체를 생성하는 일부를 서브 클래스가 담당하도록 하며, 생성 객체 패턴은 객체 생성을 다른 객체에 위임함

| 이름 | 의도 |
| --- | --- |
| 추상팩토리 | 구체적인 클래스를 지정하지 않고 인터페이스를 통해 서로 연관되는 객체들을 그룹으로 표현함 |
| 빌더 | 복합 객체의 생성과 표현을 분리하여 동일한 생성 절차에서도 다른 표현 결과를 만들어낼 수 있음 |
| 팩토리 메소드 | 객체 생성을 서브클래스로 위임하여 캡슐화함 |
| 프로토타입 | 원본 객체를 복사함으로써 객체를 생성함 |
| 싱글톤 | 어떤 클래스의 인스턴스는 하나임을 보장하고 어디서든 참조할 수 있도록 함 |

### 구조 패턴

- 객체간의 관계를 조직
- 클래스나 객체들을 조합해 더 큰 구조로 만들 수 있게 해주는 패턴
- 구조 클래스 패턴은 상속을 통해 클래스나 인터페이스를 합성하고, 구조 객체 패턴은 객체를 합성하는 방법을 정의

| 이름 | 의도 |
| --- | --- |
| 어댑터 | 클래스의 인터페이스를 다른 인터페이스로 변환하여 다른 클래스가 이용할 수 있도록 함 |
| 브리지 | 구현부에서 추상층을 분리하여 각자 독립적으로 확장할 수 있게 함 |
| 컴포지트 | 객체들의 관계를 트리 구조로 구성하여 복합 객체와 단일 객체를 구분없이 다름 |
| 데코레이터 | 주어진 상황 및 용도에 따라 어떤 객체에 다른 객체를 덧붙이는 방식 |
| 퍼싸드 | 서브시스템에 있는 인터페이스 집합에 대해 하나의 통합된 인터페이스 |
| 플라이웨이트 | 크기가 작은 여러 개의 객체를 매번 생성하지 않고 가능한 한 공유할 수 있도록 하여 메모리를 절약함 |
| 프록시 | 접근이 어려운 객체로의 접근을 제어하기 위해 객체의 Surrogate나 Placeholder를 제공 |

### 행위 패턴

- 객체의 행위를 조직, 관리, 연합
- 클래스나 객체들이 서로 상호작용하는 방법이나 어떤 태스크, 어떤 알고리즘을 어떤 객체에 할당하는 것이 좋을지를 정의하는 패턴
- 하나의 객체로 수행할 수 없는 작업을 여러 객체로 분배하면서 그들 간의 결합도를 최소화 할 수 있도록 도와줌
- 행위 클래스 패턴은 상속을 통해 알고리즘과 제어 흐름을 기술하고, 행위 객체 패턴은 하나의 작업을 수행하기 위해 객체 집합이 어떻게 협력하는지를 기술

| 이름 | 의도 |
| --- | --- |
| 책임 연쇄 | 요청을 받는 객체를 연쇄적으로 묶어 요청을 처리하는 객체를 만날 대까지 객체 Chian을 따라 요청을 전달함 |
| 커맨드 | 요청을 객체의 형태로 캡슐화하여 재사용하거나 취소할 수 있도록 저장함 |
|  |  |
| 인터프리터 | 특정 언어의 문법 표정을 정의함 |
| 반복자 | 내부를 노출하지 ㅇ낳고 접근이 잦은 어떤 객체의 원소를 순차적으로접근할 수 있는 동일한 인터페이스 제공 |
| 중재자 | 한 집합에 속해있는 객체들의 상호작용을 캡슐화하여 새로운 객체로 정의 |
| 메멘토 | 객체가 특정 상태로 다시 도돌아올 수 있도록 내부 상태를 실체화 |
| 옵서버 | 객체 상태가 변할 때 관련 객체들이 그 변화를 통지받고 자동으로 갱신 될 수 있게 함 |
| 상태 | 객체의 상태에 따라 동일한 동작을 다르게 처리해야할 때 사용 |
| 전략 | 동일 계열의 알고리즘군을 정의하고 캡슐화하여 상호교환이 가능하도록 함 |
| 템플릿 메소드 | 상위클래스는 알고리즘의 골격만을 작성하고 구체적인 처리는 서브클래스로 위임함 |
| 방문자 | 객체의 원소에 대해 수행할 연산을 분리하여 별도의 클래스로 구성함 |

## QUIZ

- 디자인 패턴이 무엇인가요?
    - 개발을 할 때 비슷한 유형의 문제에 대한 재사용가능한 해결방안입니다.
    - 특정 구현방식이 아니며 문제를 해결하는데에 쓰이는 템플릿 혹은 아이디어입니다.
    - 패턴은 문제 혹은 해결책에서의 유사점을 말합니다.
- 싱글톤 패턴이란 무엇인가요? 종류는 어떤 것이 있나요?
    - 싱글톤 패턴은 클래스의 객체는 단 하나만 존재하도록 클래스를 구현하는 패턴을 말합니다.
    - 객체를 생성할 때마다 메모리 영역을 할당받지만 하나의 객체만 생성가능하므로 메모리낭비를 방지할 수 있습니다.
    - 싱글톤으로 구현한 인스턴스는 전역이므로 다른 클래스의 인스턴스들이 데이터를 공유하는 것이 가능합니다.
    - 주로 공통된 객체를 여러개 생성해야 할 경우에 사용되며 또한 인스턴스가 하나만 존재하는 것을 보증하고 싶을 때 사용합니다. ex) DB 커넥션풀, 스레드풀, 캐시 등
    - 싱글톤 인스턴스가 너무 많은 일을 하거나 많은 데이터를 공유하면 다른 클래스간의 결합도가 높아지므로 OCP가 위배될 수 있습니다. 따라서 반드시 싱글톤이 필요한 상황이 아니라면 지양하는 것이 좋다고 합니다.
- 데코레이터 패턴은 무엇인가요? ~~언제 사용하느가?~~
    - 구조(Structural)패턴의 하나
    - 기본 기능에 추가할 수 있는 많은 종류의 부가 기능에서 파생되는 다양한 조합을 동적으로 구현할 수 있는 패턴
    - 기본 기능에 추가할 수 있는 기능의 종류가 많은 경우에 각 추가 기능을 Decorator 클래스로 정의 한 후 필요한 Decorator 객체를 조합함으로써 추가 기능의 조합을 설계 하는 방식이다.
- 커맨드 패턴은 무엇인가? 사용하는 이유는?
    - 행위(behavior)패턴 중 하나이다
    - 실행될 기능을 캡슐화함으로써 주어진 여러 기능을 실행할 수 있는 재사용성이 높은 클래스를 설계하는 패턴
    - 이벤트가 발생했을 때 실행될 기능이 다양하면서도 변경이 필요한 경우에 이벤트를 발생시키는 클래스를 변경하지 않고 재사용하고자 할 때 유용하다.
- 옵저버 패턴이란?
    
    객체의 상태 변화를 관찰하는 관찰자들, 즉 옵저버들의 목록을 객체에 등록하여 상태 변화가 있을 때마다 메서드 등을 통해 객체가 직접 목록의 각 옵저버에게 통지하도록 하는 디자인 패턴입니다. 어떤 객체의 변경 사항이 발생하였을때 이와 연관된 객체들에게 알려주는 디자인 패턴
    
- 

